<!DOCTYPE html>
<html>
<head>
<title>Dave's Life On Hold</title>
<meta name="description" content="Tales from the edge of the future..." />
<meta name="HandheldFriendly" content="True" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

<link rel="stylesheet" type="text/css" href="/style.css" />
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-71410771-1', 'auto');
ga('send', 'pageview');
</script>
</head>
<body>
<div class="content">
<header>
<a href="/index.html"><h1>DAVE'S LIFE ON HOLD</h1></a>
</header>
<main>
<h1>AMQP for Lua</h1>
<p>I&#39;ve just released the first version of <a href="https://github.com/cthulhuology/amqp.lua">amqp.lua</a>, a set of <a href="http://luajit.org/">LuaJIT</a> bindings for <a href="https://github.com/alanxz/rabbitmq-c">librabbitmq</a>.  This code makes it significantly easier to connect Lua programs to each other over a distributed network, all backed with <a href="http://www.amqp.org/">AMQP</a> providing a cross language interoperable message queuing infrastructure.  One of the reasons<br>that I&#39;m releasing this code under a BSD License is so that more Lua programmers look at it as a viable option when wiring together both applications and games.  Making applications AMQP aware will make it easier for a wide range of services to be <br>made available over the internet for general consumption.  <br><br>For the initial release I put together a very simple utility to send messages to an exchange with a given routing key (currently only connects to localhost as guest, but it is perfectly serviceable for demos):<br><br><script src="https://gist.github.com/cthulhuology/5080240.js"></script><br><br>It is about as trivial as an example that can do something terribly useful.  By specifying an exchange, a routing key, and a message, it can send a plain/text message to any consumer willing to consume off of the RabbitMQ instance on my localhost.  In a production environment,  I would add additional code for random reconnects to a cluster of RabbitMQ servers, and add additional error checking in case something failed, but that is mostly just hardening code common to most applications.  Currently,<br>I&#39;m just using it to test AMQP messaging in the next generation of <a href="https://github.com/cthulhuology/Jawas">Jawas</a>, which I will be releasing once the Linux backport is finished. Back in October of 2009, I had embedded Lua in the main<br>development branch of the Jawas code base, and relied heavily on LuaJIT ever since.    Now that I&#39;m adding WebSocket (RFC6455) and AMQP  support to Jawas, I found it particularly useful to drive it via a Lua interface.  I will likely expose most of my Lua<br>powered applications&#39; internal APIs to an AMQP based RPC method call system, passing S-expressions to be evaluated as either JSON or Lua tables.<br><br>So in any event.  Enjoy... This is a very early release (tag 0.0.2) and will likely see some significant API additions in the coming days as I build out some sample consumer applications, and demonstrate some very fun things you can do with Lua and <br><a href="http://www.postgresql.org/">PostgreSQL</a> stored procedures.<br><br></p>
</main>
<footer>
<hr>
<figure class="logo"></figure>
<section id="share" class="share"></section>
<section class="copyright"><a href="mailto:dave@dloh.org">&copy; 2016 David J. Goehrig</a></section>
</footer>
</div>
<script>
	twitter = document.createElement("a")
	twitter.className = "fa fa-twitter"
	twitter.href = "https://twitter.com/intent/tweet?text=Dave%27s%20Life%20On%20Hold&amp;url=" + document.location.href;
	twitter.onclick = function() {
		window.open(this.href, 'twitter-share', 'width=550,height=235');
		return false;
	}
	twitter.innerHtml = '<span class="hidden">Twitter</span>'

	facebook = document.createElement("a")
	facebook.className = "fa fa-facebook"
	facebook.href = "https://www.facebook.com/sharer/sharer.php?u=" + document.location.href;
	facebook.onclick = function() {
		window.open(this.href, 'facebook-share','width=580,height=296');
		return false;
	}
	facebook.innerHtml = '<span class="hidden">Facebook</span></a>'

	goog = document.createElement("a")
	goog.className = "fa fa-google"
	goog.href = "https://plus.google.com/share?url=" + document.location.href;
	goog.onclick = function() {
		window.open(this.href, 'google-plus-share', 'width=490,height=530');
		return false;
	}
	goog.innerHtml = '<span class="hidden">Google+</span></a>'

	sh = document.getElementById("share");
	sh.appendChild(twitter);
	sh.appendChild(facebook);
	sh.appendChild(goog);
</script>
</body>
</html>
